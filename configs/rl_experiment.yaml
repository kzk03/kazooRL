# --- å¼·åŒ–å­¦ç¿’å®Ÿé¨“ç”¨è¨­å®š ---
# è¨ˆç®—åŠ¹ç‡ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒãƒ©ãƒ³ã‚¹ã‚’è€ƒæ…®ã—ãŸè¨­å®š

env:
  backlog_path: "data/backlog_training.json"
  dev_profiles_path: "configs/dev_profiles_training.yaml"
  expert_trajectories_path: "data/expert_trajectories.pkl"
  simulation:
    time_step_hours: 8
    max_days: 180 # å®Ÿé¨“ç”¨ã«çŸ­ç¸®ï¼ˆ365â†’180æ—¥ï¼‰

# ğŸ¯ é–‹ç™ºè€…æ•°ã®è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
# ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: å°è¦æ¨¡å®Ÿé¨“ï¼ˆ10-50äººï¼‰- é«˜é€Ÿå®Ÿé¨“ãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨
# num_developers: 20

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: ä¸­è¦æ¨¡å®Ÿé¨“ï¼ˆ100-500äººï¼‰- ãƒãƒ©ãƒ³ã‚¹é‡è¦–
num_developers: 200

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³3: å¤§è¦æ¨¡å®Ÿé¨“ï¼ˆ1000+äººï¼‰- æœ¬æ ¼é‹ç”¨æƒ³å®š
# num_developers: 1000

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³4: å…¨é–‹ç™ºè€…ï¼ˆ5170äººï¼‰- æœ€çµ‚å®Ÿé¨“ç”¨
# num_developers: 5170

# --- ç‰¹å¾´é‡è¨ˆç®—ã®è¨­å®š (Features) ---
features:
  recent_activity_window_days: 30
  all_labels: ["bug", "enhancement", "documentation", "question", "help wanted"]
  label_to_skills:
    bug: ["debugging", "analysis"]
    enhancement: ["python", "design"]
    documentation: ["writing"]
    question: ["communication"]
    help wanted: ["collaboration"]

# --- GATãƒ¢ãƒ‡ãƒ«ã®ãƒ‘ã‚¹ (GAT) ---
gat:
  model_path: "data/gnn_model_collaborative.pt"
  graph_data_path: "data/graph_collaborative.pt"

# --- é€†å¼·åŒ–å­¦ç¿’ã®è¨­å®š (IRL) ---
irl:
  expert_path: "data/expert_trajectories.pkl"
  output_weights_path: "data/learned_weights_training.npy"
  learning_rate: 0.001
  epochs: 200
  use_gat: true
  gat_model_path: "data/gnn_model_collaborative.pt"
  gat_graph_path: "data/graph_collaborative.pt"
  # ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ç¿’è¨­å®šï¼ˆé–‹ç™ºè€…æ•°ã«å¿œã˜ã¦èª¿æ•´ï¼‰
  online_gat_learning: true
  gat_update_frequency: 10 # ä¸­è¦æ¨¡ç”¨
  gat_learning_rate: 0.0001
  gat_buffer_size: 1000
  gat_time_window_hours: 48
  convergence_patience: 50
  convergence_threshold: 0.005

# --- å¼·åŒ–å­¦ç¿’ã®è¨­å®š (RL) ---
rl:
  # ğŸ¯ é–‹ç™ºè€…æ•°ã«å¿œã˜ãŸã‚¿ã‚¤ãƒ ã‚¹ãƒ†ãƒƒãƒ—èª¿æ•´
  # 20äºº: 100,000 - 500,000
  # 200äºº: 500,000 - 1,000,000
  # 1000äºº: 1,000,000 - 2,000,000
  # 5170äºº: 2,000,000+
  total_timesteps: 800000 # 200äººç”¨ã®è¨­å®š

  learning_rate: 0.0003
  output_model_dir: "models/rl_agents"

  # PPOå›ºæœ‰ã®è¨­å®š
  ppo:
    n_steps: 2048
    batch_size: 64
    n_epochs: 10
    gamma: 0.99
    gae_lambda: 0.95
    clip_range: 0.2
    ent_coef: 0.01
    vf_coef: 0.5
    max_grad_norm: 0.5

  # PPOã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ã®è¨­å®š (ç›´æ¥å‚ç…§ã•ã‚Œã‚‹)
  k_epochs: 10 # PPOã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã®æ›´æ–°ã‚¨ãƒãƒƒã‚¯æ•°
  eps_clip: 0.2 # PPO ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ç¯„å›²
  rollout_len: 2048 # ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆé•·

  # å­¦ç¿’ã®è¨˜éŒ²ãƒ»è©•ä¾¡è¨­å®š
  logging:
    log_interval: 100
    eval_freq: 10000
    save_freq: 50000

# --- å®Ÿé¨“ç®¡ç†è¨­å®š ---
experiment:
  name: "rl_experiment_200dev"
  description: "200é–‹ç™ºè€…ã§ã®å¼·åŒ–å­¦ç¿’å®Ÿé¨“"
  output_dir: "outputs/rl_experiments"
  seed: 42

# --- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­å®š ---
performance:
  # ä¸¦åˆ—å‡¦ç†è¨­å®š
  n_envs: 4 # ç’°å¢ƒã®ä¸¦åˆ—æ•°
  device: "cuda" # GPUä½¿ç”¨ï¼ˆåˆ©ç”¨å¯èƒ½ãªå ´åˆï¼‰
  # ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–
  use_memory_efficient_attention: true
  gradient_checkpointing: false
